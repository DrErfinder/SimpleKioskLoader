<!DOCTYPE html><html lang="en"><head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <link rel="stylesheet" href="style.css"> <title>Waiting for Network</title></head><body> <div class="container transition-fast op-0"> <div class="wait transition"> <h1 id="lang_connecting">Connecting</h1> <h2 id="lang_wait">Wait</h2> </div><div class="error transition d-none op-0"> <h1 id="lang_error">Error</h1> <h2 id="lang_retry">Rerty</h2> </div><div class="lds-ring"> <div></div><div></div><div></div><div></div></div><img src="" id="TestIMG" class="d-none"> </div><script>let translations={"en":{"title": "Waiting for Network","lang_connecting": "Establishing network connection","lang_wait": "Please be patient...","lang_error": "Can't reach Server!","lang_retry": "We'll keep trying..."},"de":{"title": "Auf Netzwerk warten","lang_connecting": "Netzwerkverbindung wird hergestellt","lang_wait": "Bitte warten...","lang_error": "Server nicht erreichbar!","lang_retry": "Wir probieren es weiter..."}}</script> <script>
// Config
let lang="auto", // Language: auto for Automatic, en for English, de for German 
	URL='http://localhost/', // Website to open after succesfull 'ping'. (URL gets always Prioritised)
	imgTest='test.ico', // picture to ping (the smaler the better), gets appended to URL 
	LoadInterval=1000, // Time after witch it trys to connect to a Server 
	ErrorTimeout=10000; // Time after witch an error ist displayed.
// End Config
</script><script>document.addEventListener("DOMContentLoaded", function (){if (lang=='auto'){lang=navigator.language; lang=lang.substr(0, 2).toLowerCase();}let translation=translations[lang]; if (translation==null){translation=translations.en;}document.getElementsByTagName('html')[0].setAttribute('lang', lang); for (const name in translation){if (translation.hasOwnProperty(name)){if (name=='title'){document.title=translation[name];}else{document.getElementById(name).innerHTML=translation[name];}}}let hash=window.location.hash.substr(1); if (hash !=''){URL=decodeURI(hash);}let TestIMG=document.getElementById('TestIMG'), Container=document.getElementsByClassName('container')[0], wait=document.getElementsByClassName('wait')[0], error=document.getElementsByClassName('error')[0]; TestIMG.onload=function (){Container.classList.add('op-0'); Container.addEventListener('transitionend', function (){window.location.href=URL + '?t=' + new Date().getTime();});}; setTimeout(()=>{Container.classList.remove('op-0'); setInterval(()=>{TestIMG.src=''; setTimeout(()=>{TestIMG.src=URL + imgTest + '?t=' + new Date().getTime();}, 50);}, LoadInterval);}, 500); setTimeout(()=>{wait.classList.add('op-0'); wait.addEventListener('transitionend', function (){wait.classList.add('d-none'); error.classList.remove('d-none'); setTimeout(()=>{error.classList.remove('op-0');}, 1);});}, ErrorTimeout);});</script></body></html>
